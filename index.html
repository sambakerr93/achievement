<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Xbox Achievement Animation</title>

  <style>
    :root{
      --bg: #0b0f14;
      --panel: rgba(255,255,255,.06);
      --border: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --green: #22c55e;
      --rare: #f5c542;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      background: radial-gradient(1200px 600px at 40% 20%, rgba(34,197,94,.10), transparent 60%),
                  radial-gradient(900px 500px at 70% 60%, rgba(59,130,246,.10), transparent 60%),
                  var(--bg);
      color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    .content{
      width:min(1100px, 92vw);
      display:grid;
      grid-template-columns: 360px 1fr;
      gap:24px;
      align-items:center;
      padding:24px;
    }

    /* Settings panel */
    .content-settings{
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 18px;
      backdrop-filter: blur(10px);
    }
    .content-settings h1{
      margin:0 0 14px 0;
      font-size: 20px;
      letter-spacing:.2px;
    }
    .content-settings__input{
      width:100%;
      padding:10px 12px;
      margin: 0 0 10px 0;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.28);
      color: var(--text);
      outline:none;
    }
    .content-settings__check{
      display:flex;
      align-items:center;
      gap:10px;
      margin: 8px 0 14px 0;
      color: var(--muted);
      font-size: 14px;
    }
    .content-settings__button{
      width:100%;
      padding: 11px 12px;
      border-radius: 12px;
      border: 0;
      background: var(--green);
      color: #05110a;
      font-weight: 800;
      cursor:pointer;
    }
    .content-settings__button:disabled{
      opacity:.55;
      cursor:not-allowed;
    }

    /* Stage */
    .achievement{
      display:flex;
      justify-content:center;
      align-items:center;
      min-height:220px;
    }

    .animation{
      position:relative;
      width: 860px;
      height: 170px;
      overflow: visible;
      filter: drop-shadow(0 18px 30px rgba(0,0,0,.55));
    }

    /* Circle */
    .circle{
      position:absolute;
      left: 18px;
      top: 37px;
      width: 96px;
      height: 96px;
      border-radius: 999px;
      border: 2px solid rgba(255,255,255,.22);
      background: radial-gradient(circle at 35% 35%, rgba(255,255,255,.24), rgba(255,255,255,.07) 55%, rgba(0,0,0,.18));
      display:grid;
      place-items:center;
      z-index: 4;
      opacity:0;
      transform: scale(.85);
    }

    .img{
      position:absolute;
      inset:0;
      display:grid;
      place-items:center;
      pointer-events:none;
    }

    .trophy_img img{
      width: 58px;
      height: 58px;
      opacity: .95;
    }
    .trophy_2{
      position:absolute;
      width:58px;
      height:58px;
      opacity:.55;
      transform: translateY(2px);
    }

    .xbox_img img{
      width: 48px;
      height: 48px;
      opacity: 0;
      transform: scale(.9);
    }

    /* Brilliant ring (subtle) */
    .brilliant-wrap{
      position:absolute;
      inset: -8px;
      border-radius: 999px;
      overflow:hidden;
      opacity:.0;
    }
    .brilliant{
      position:absolute;
      inset:-40%;
      background: conic-gradient(from 0deg, rgba(34,197,94,.0), rgba(34,197,94,.25), rgba(59,130,246,.15), rgba(34,197,94,.0));
      animation: spin 1.2s linear infinite;
    }
    @keyframes spin{ to{ transform: rotate(360deg); } }

    /* Banner */
    .banner-outer{
      position:absolute;
      inset: 18px 18px 18px 78px;
      border-radius: 18px;
      overflow:hidden;
      opacity:0;
      transform: translateX(70px);
      z-index: 2;
    }

    .banner{
      position:absolute;
      inset:0;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.14);
      background: linear-gradient(90deg, rgba(34,197,94,.22), rgba(0,0,0,.35) 55%, rgba(0,0,0,.55));
    }
    .banner::before{
      content:"";
      position:absolute;
      inset:-35% -35%;
      background:
        radial-gradient(circle at 25% 50%, rgba(34,197,94,.25), transparent 58%),
        radial-gradient(circle at 80% 50%, rgba(59,130,246,.18), transparent 60%);
      transform: rotate(10deg);
      opacity:.9;
    }

    .achieve_disp{
      position:relative;
      z-index: 3;
      height:100%;
      display:flex;
      flex-direction:column;
      justify-content:center;
      margin-left: 96px;
      padding-right: 28px;
      gap: 10px;
      opacity:0;
      transform: translateY(12px);
    }

    .unlocked{
      font-size: 16px;
      color: rgba(255,255,255,.80);
      letter-spacing:.2px;
    }

    .score_disp{
      display:flex;
      align-items:center;
      gap: 10px;
      font-size: 26px;
      font-weight: 900;
      letter-spacing: .2px;
    }

    .gamerscore{
      display:flex;
      align-items:center;
      gap: 8px;
      font-size: 16px;
      font-weight: 800;
      color: rgba(255,255,255,.86);
    }

    .hyphen_sep{
      opacity:.45;
      font-weight: 700;
      font-size: 18px;
    }

    .achiev_name{
      font-size: 26px;
      font-weight: 900;
    }
    .acheive_score{
      font-size: 16px;
      font-weight: 800;
      opacity:.9;
    }

    /* Rare mode (your JS adds .rare to .achievement) */
    .achievement.rare .banner{
      border-color: rgba(245,197,66,.55);
      background: linear-gradient(90deg, rgba(245,197,66,.20), rgba(0,0,0,.35) 55%, rgba(0,0,0,.55));
    }
    .achievement.rare .unlocked{
      color: rgba(245,197,66,.92);
    }
    .achievement.rare .circle{
      border-color: rgba(245,197,66,.65);
    }

    /* === Animation classes your JS toggles === */
    .circle_animate{
      animation: circleIn 650ms cubic-bezier(.2,.9,.2,1) both;
    }
    @keyframes circleIn{
      0%{ opacity:0; transform: scale(.65); }
      55%{ opacity:1; transform: scale(1.08); }
      100%{ opacity:1; transform: scale(1); }
    }

    .banner-animate{
      animation: bannerIn 780ms cubic-bezier(.2,.9,.2,1) both;
    }
    @keyframes bannerIn{
      from{ opacity:0; transform: translateX(70px); }
      to{ opacity:1; transform: translateX(0); }
    }

    .achieve_disp_animate{
      animation: textIn 800ms ease-out 120ms both;
    }
    @keyframes textIn{
      from{ opacity:0; transform: translateY(12px); }
      to{ opacity:1; transform: translateY(0); }
    }

    /* Make trophy swap to xbox icon briefly (nice caution-free “effect”) */
    .circle_animate .trophy_img{ animation: trophyPulse 900ms ease-out both; }
    @keyframes trophyPulse{
      0%{ transform: scale(.92); opacity:.0; }
      40%{ transform: scale(1.05); opacity:1; }
      100%{ transform: scale(1); opacity:1; }
    }

    /* Show ring only while animating */
    .circle_animate ~ .banner-outer .banner { }
    .circle_animate .brilliant-wrap{ opacity:.9; }

    /* Small screens */
    @media (max-width: 980px){
      .content{ grid-template-columns: 1fr; }
      .animation{ width: min(860px, 92vw); }
    }
  </style>
</head>

<body>
  <div class="content">
    <div class="content-settings">
      <h1>Xbox One Achievement</h1>
      <input value="My First Pen" class="content-settings__input" id="a_title" placeholder="Achievement" type="text" />
      <input value="100" class="content-settings__input" id="a_score" placeholder="Score" type="number" />
      <div class="content-settings__check">
        <input checked type="checkbox" id="a_rare" />
        <label for="a_rare">Rare</label>
      </div>
      <button id="a_trigger" class="content-settings__button">Trigger</button>
      <div style="margin-top:10px;color:rgba(255,255,255,.55);font-size:12px;line-height:1.3">
        Tip: audio playback needs a click in most browsers — press Trigger to start.
      </div>
    </div>

    <!-- ELEMENTS FOR ANIMATION: -->
    <div class="achievement">
      <div class="animation">
        <div class="circle">
          <div class="img trophy_animate trophy_img">
            <img class="trophy_1" src="https://dl.dropboxusercontent.com/s/k0n14tzcl4q61le/trophy_full.svg"/>
            <img class="trophy_2" src="https://dl.dropboxusercontent.com/s/cd4k1h6w1c8an9j/trophy_no_handles.svg"/>
          </div>
          <div class="img xbox_img">
            <img src="https://dl.dropboxusercontent.com/s/uopiulb5yeo1twm/xbox.svg?dl=0"/>
          </div>
          <div class="brilliant-wrap">
            <div class="brilliant"></div>
          </div>
        </div>

        <div class="banner-outer">
          <div class="banner">
            <div class="achieve_disp">
              <span class="unlocked"></span>
              <div class="score_disp">
                <div class="gamerscore">
                  <img width="20px" src="https://dl.dropboxusercontent.com/s/gdqf5amvjkx9rfb/G.svg?dl=0"/>
                  <span class="acheive_score"></span>
                </div>
                <span class="hyphen_sep">-</span>
                <span class="achiev_name"></span>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <script>
    let achievementSound = new Audio('https://dl.dropboxusercontent.com/s/8qvrpd69ua7wio8/XboxAchievement.mp3')
    let achievementSoundRare = new Audio('https://dl.dropboxusercontent.com/s/po1udpov43am81i/XboxOneRareAchievement.mp3')

    const achievement = () => {
      let title = document.getElementById('a_title').value
      let score = document.getElementById('a_score').value
      let rare = document.getElementById('a_rare').checked

      document.querySelector('.achiev_name').innerText = title
      document.querySelector('.acheive_score').innerText = score
      document.getElementById("a_trigger").disabled = true
      document.querySelector('.unlocked').innerText = rare ? 'Rare achievement unlocked' : 'Achievement unlocked'

      if (rare) {
        achievementSoundRare.currentTime = 0
        achievementSoundRare.play()
        document.querySelector('.achievement').classList.add('rare')
      } else {
        achievementSound.currentTime = 0
        achievementSound.play()
      }

      document.querySelector('.circle').classList.add('circle_animate')
      document.querySelector('.banner-outer').classList.add('banner-animate')
      document.querySelector('.achieve_disp').classList.add('achieve_disp_animate')

      setTimeout(() => {
        document.querySelector('.circle').classList.remove('circle_animate')
        document.querySelector('.banner-outer').classList.remove('banner-animate')
        document.querySelector('.achieve_disp').classList.remove('achieve_disp_animate')
        document.getElementById("a_trigger").disabled = false
        if (rare) {
          document.querySelector('.achievement').classList.remove('rare')
        }
      }, 12000)
    }

    document.getElementById('a_trigger').addEventListener('click', () => {
      achievement()
    })
  </script>
</body>
</html>
